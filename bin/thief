#!/usr/bin/env ruby
require File.expand_path('../../lib/boot', __FILE__)

require 'thief'

Thief.setup do |config|
  config.database = File.expand_path('../config/database.yml', File.dirname(__FILE__))
end

# # # # # # # # # # # # # # # # # # # # #

Thief::Person.delete_all

Thief.sources << Thief::Sources::DAPI.new
Thief.sources << Thief::Sources::Wikipedia.new
# Thief.sources << Thief::Sources::IMDb.new
# Thief.sources << Thief::Sources::Freebase.new
# Thief.sources << Thief::Sources::Who2.new

# Thief.fetch
Thief.integrate
# Thief.cleanup

Thief::Person.all.each { |person| puts "#{person.source}: #{person.full_name}" }